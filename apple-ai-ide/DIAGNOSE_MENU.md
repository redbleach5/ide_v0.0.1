# Инструкция по диагностике проблемы с меню "Новый проект"

## Способ 1: Простой скрипт (рекомендуется)

1. Откройте приложение в Electron
2. Откройте DevTools одним из способов:
   - Нажмите `F12`
   - Или через меню: `Вид` → `Инструменты разработчика`
   - Или `Cmd+Option+I` (Mac) / `Ctrl+Shift+I` (Windows/Linux)
3. Перейдите на вкладку **Console**
4. Откройте файл `diagnose-menu-simple.js` в любом текстовом редакторе
5. Скопируйте **весь** содержимое файла
6. Вставьте в консоль и нажмите `Enter`
7. Подождите несколько секунд (скрипт выполнит автоматические тесты)
8. Скопируйте **весь** вывод из консоли (начиная с "=== ДИАГНОСТИКА МЕНЮ ===")
9. Предоставьте этот вывод для анализа

## Способ 2: Полный диагностический скрипт

1. Откройте DevTools (как в способе 1)
2. Откройте файл `diagnose-menu-issue.js`
3. Скопируйте весь содержимое
4. Вставьте в консоль и нажмите `Enter`
5. Скопируйте весь вывод (JSON объект в конце)
6. Предоставьте вывод для анализа

## Способ 3: HTML файл (если запускаете в браузере)

1. Откройте файл `test-menu-click.html` в браузере
2. Нажмите кнопку "Запустить диагностику"
3. Нажмите "Копировать вывод"
4. Предоставьте скопированный текст

## Что собирает скрипт:

- ✅ Информацию о среде (платформа, Electron API)
- ✅ Наличие элементов меню в DOM
- ✅ Обработчики событий на кнопках
- ✅ Результаты симуляции кликов
- ✅ Состояние выпадающих меню и диалогов
- ✅ Информацию о z-index и overlay элементах
- ✅ Ошибки и предупреждения

## Дополнительная информация

Если скрипт не работает, также предоставьте:

1. **Скриншот консоли** с ошибками (если есть)
2. **Версию Electron** (можно узнать через `window.versions.electron` в консоли)
3. **Описание проблемы**: что именно происходит при клике на "Новый проект"?
   - Меню закрывается?
   - Ничего не происходит?
   - Появляется ошибка?
   - Диалог не открывается?

## Быстрая проверка вручную

Если скрипты не работают, выполните в консоли:

```javascript
// 1. Проверка кнопки меню
const btn = document.querySelector('[data-menu-button]');
console.log('Кнопка найдена:', !!btn);

// 2. Клик на кнопку
if (btn) {
  btn.click();
  setTimeout(() => {
    const menu = document.querySelector('[data-menu-dropdown]');
    console.log('Меню открыто:', !!menu);
    
    // 3. Клик на "Новый проект"
    if (menu) {
      const newProject = Array.from(menu.querySelectorAll('button')).find(b => 
        b.textContent.includes('Новый проект')
      );
      if (newProject) {
        newProject.click();
        setTimeout(() => {
          const dialog = Array.from(document.querySelectorAll('*')).find(el => 
            el.textContent?.includes('Создать новый проект')
          );
          console.log('Диалог открыт:', !!dialog);
        }, 500);
      }
    }
  }, 500);
}
```

Скопируйте вывод этой команды и предоставьте его.
